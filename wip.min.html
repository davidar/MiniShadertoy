<!doctype html>
<meta charset=utf-8>
<body id=b>
<script>
d = document;

/* Golf starts here */

b.innerHTML+=`<canvas id=a width=600 height=400 style='border:1px solid#000;width:47vw;height:95vh'>`;b.innerHTML+=`<textarea id=c style=width:47vw;height:95vh>void mainImage(out vec4 fragColor,in vec2 fragCoord){
 vec4 p=vec4((fragCoord.xy/iResolution.xy-.5)*2.,0,1);
 fragColor=p+sin(atan(p.y,p.x)*9.)*sin(p*iGlobalTime/2.+9./dot(p,p)+iGlobalTime*5.)
}`;for(i in g=a.getContext`webgl`)g[i[0]+i[6]]=g[i];if(l=location.hash)c.value=atob(l.slice(1));iMouse=[0,0,0,0];with(g)(oninput=e=>{location.hash=btoa(c.value);P=cP();sS(S=cS(35633),`attribute vec2 P;void main(){gl_Position=vec4(P,0,1);}`);ce(S);aS(P,S);sS(S=cS(FN),`precision mediump float;uniform float iGlobalTime,iFrame,iDate,iTimeDelta;varying lowp vec4 fragCoord;uniform vec2 iResolution;uniform vec4 iMouse;${c.value}void main(){mainImage(gl_FragColor,gl_FragCoord.xy);gl_FragColor.w=1.;}`);ce(S);aS(P,S);lo(P);ug(P);bf(B=34962,cB());eV(0);vA(0,2,5120,0,0,0);bD(B,new Int8Array([-3,1,1,-3,1,1]),35044);p=iFrame=0;D=new Date/1E3;d=0})(),(L=e=>{d=new Date/1E3-D;D=new Date/1E3;uniform1f(gf(P,`iTimeDelta`),d);uniform1f(gf(P,`iGlobalTime`),p+=d);uniform1f(gf(P,`iFrame`),iFrame++);uniform1f(gf(P,`iDate`),~~D);uniform4f(gf(P,`iMouse`),iMouse[0],iMouse[1],iMouse[2],iMouse[3]);uniform2f(getUniformLocation(P,`iResolution`),640,360);dr(6,0,3);requestAnimationFrame(L)})();y=0;z=1;onmousedown=onmouseup=e=>{y^=1};a.onmousemove=e=>{y&&(iMouse[0]=.47*e.pageX*z,iMouse[1]=e.pageY)};a.onclick=e=>{iMouse[2]=.47*e.pageX*z;iMouse[3]=e.pageY};a.ondblclick=e=>{z=3-z;a.style.width=c.style.width=47*z+`vw`}

/* End of golf */

</script>