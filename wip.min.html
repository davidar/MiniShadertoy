<!doctype html>
<meta charset=utf-8>
<body id=b>
<canvas id=a width=640 height=360>
<script>
d = document;
g = a.getContext('webgl');

/* Golf starts here */

a.insertAdjacentHTML(`afterEnd`,`<textarea id=c>`+(atob(location.hash.slice(y=z=1)||btoa(`void mainImage(out vec4 fragColor,vec2 fragCoord){\n  vec4 p=vec4((fragCoord/iResolution-.5)*2.,0,1);\n  fragColor=p+sin(atan(p.y,p.x)*9.)*sin(p*iGlobalTime/2.+9./dot(p,p)+iGlobalTime*5.);\n}`))));for(i in g)g[i[0]+i[6]]=g[i];m=[0];with(g)(oninput=e=>{location.hash=btoa(c.value);h=FN;i=e=>sS(s=cS(h++),e)|ce(s)|!aS(p,s);vA(p=cP(),2,5120,bD(n=ET-3,Int8Array.of(i(`precision mediump float;uniform float iGlobalTime,iFrame,iDate,iTimeDelta;uniform vec2 iResolution;uniform vec4 iMouse;`+c.value+`void main(){mainImage(gl_FragColor,gl_FragCoord.xy);gl_FragColor.w=1.;}`),n,!eV(bf(n,cB())),i`attribute vec4 p;void main(){gl_Position=p;}`),n+82),!lo(p),ug(p));o=j=d=0;f=new Date/1e3})(),(l=e=>{d=new Date/1e3-f;f=new Date/1e3;uniform1f(gf(p,`iTimeDelta`),d);uniform1f(gf(p,`iGlobalTime`),o+=d);uniform1f(gf(p,`iDate`),~~f);uniform4f(gf(p,`iMouse`),m[0],m[1],m[2],m[3]);uniform2f(getUniformLocation(p,`iResolution`),640,360);dr(6,uniform1f(gf(p,`iFrame`),j++),3);requestAnimationFrame(l)})();onmousedown=onmouseup=e=>y^=1;a.onmousemove=e=>y||([m[0],m[1]]=[e.pageX*z/2,e.pageY]);a.onclick=e=>[m[2],m[3]]=[e.pageX*z/2,e.pageY];(a.ondblclick=e=>a.style=c.style=(b.style=`height:100vh;margin:0;padding:0;border:0;width:`)+100/(z^=3)+`%;float:left`)()

/* End of golf */

</script>